
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-35434966-2']);
        _gaq.push(['_trackPageview']);
        
        (function () {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
    
<title>Local Variables</title>

    <script type="text/javascript">
    function escapeRegExp(string) {
        return string.replace(/([.*+?^=!:()|\[\]\/\\])/g, "\\$1");
    }
    function replaceAll(find, replace, str) {
      return str.replace(new RegExp(escapeRegExp(find), 'g'), replace);
    }
    // http://stackoverflow.com/questions/5251520/how-do-i-escape-some-html-in-javascript
    function escapeHTML( string )
    {
        var pre = document.createElement('pre');
        var text = document.createTextNode( string );
        pre.appendChild(text);
        return pre.innerHTML;
    }
    function enableUI(val) {
        document.getElementById("compile").disabled = !val;
    	document.getElementById("WideSource").readOnly = !val;
    	document.getElementById("CPPSource").readOnly = !val;
        document.getElementById("default").disabled = !val;
    }
    function compile() {
        enableUI(false);
        var http = new XMLHttpRequest();
    	var widesrc = document.getElementById('WideSource').value;
    	var cppsrc = document.getElementById('CPPSource').value;
        http.open("POST", "http://coliru.stacked-crooked.com/share", true);
    	http.onreadystatechange = function() {
            if (http.readyState == 4) {
                if (http.status == 200) {
                    var location = "/Archive2/" + http.responseText.substr(0, 2) + "/" + http.responseText.substr(2, http.responseText.length).trim() + "/main.cpp";
                  	var using = 'using cplusplus := cpp("' + location + '");';
    		        var nestedhttp = new XMLHttpRequest();
                    nestedhttp.open("POST", "http://coliru.stacked-crooked.com/compile", true);
    		        nestedhttp.onreadystatechange = function() {
                        if (nestedhttp.readyState == 4) {
                            if (nestedhttp.status == 200) {
    						    enableUI(true);
    							var output = escapeHTML(replaceAll("'x86_64' is not a recognized processor for this target (ignoring processor)", "", nestedhttp.responseText).trim());
    							var rows = output.split("\n").length;
                                document.getElementById('result').value = output;
    							document.getElementById('result').rows = rows > 5 ? 5 : rows;
    		            	}
    		        	}
    	            }
                    nestedhttp.send(JSON.stringify({ "cmd": "/usr/local/bin/Wide/CLI main.cpp && g++ a.o && ./a.out", "src": widesrc + using }));		
    		    }
    		}
    	}
        http.send(JSON.stringify({ "cmd": "", "src": cppsrc }));
    }
    function setcode(widesrc, cppsrc) {
        linecount = Math.max(widesrc.split('\n').length, cppsrc.split('\n').length) - 1
        document.getElementById('WideSource').rows = linecount;
        document.getElementById('CPPSource').rows = linecount;
        document.getElementById('WideSource').value = widesrc;
        document.getElementById('CPPSource').value = cppsrc;
    }
    function init() {
        
setcode('Main() {\n    local := "Hello, World!";\n    cplusplus.std.cout << local;\n}', '#include <iostream>')

    }
    $(init)
    </script>    
    


</head>
<body>
    <nav class="navbar navbar-inverse" style="margin-bottom: 0;" role="navigation">
        <div class="container"style="padding:0px;">
            <p class="navbar-text navbar-left"><a class="navbar-link" href="..">Home</a></p><p class="navbar-text navbar-left"><a class="navbar-link" href=".">Tutorial</a></p><p class="navbar-text navbar-left">Local Variables</p>
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="HelloWorld.html">Hello World!</a></li>
                        <li><a href="LocalVariables.html">Local Variables</a></li>
                        <li><a href="Functions.html">Functions</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>
    


<div class="jumbotron">
    <div class="container">
        <h1>Local Variables</h1>
    </div>
</div>
<div class="container" style="padding:0px;">
    

<div class="form-group">
    <div class="row">
        <div class="col-md-6"><div class="input-group"><span class="input-group-addon">Wide</span><textarea class="form-control" rows="3" id="WideSource" autocomplete=false></textarea></div></div>
        <div class="col-md-6"><div class="input-group"><span class="input-group-addon">C++</span><textarea class="form-control" rows="3" id="CPPSource" autocomplete=false></textarea></div></div>
    </div>
	<br>
    <div class="row">
	    <div class="col-md-12">
	        <div class="input-group">
                <span class="input-group-btn"><button class="btn btn-primary" type="button" onclick="init()" id="default">Default</button></span>			   
                <span class="input-group-btn"><button class="btn btn-primary" type="button" onclick="compile()" id="compile">Compile</button></span>	 	
		        <textarea class="form-control" id="result" rows="1" autocomplete=false readOnly=true></textarea>				    
	     	</div>
		</div>
	</div>
</div>


<div class="row">
    <div class="col-md-12">
        <p>Local variables in Wide are introduced with <code>:=</code>. They are always initialized by calling the constructor. The type is deduced from the initializing expression. Wide always deduces a value, like 
        <code>auto</code> in C++, unless you explicitly construct an object of a type, in which case the local will always have that type, even if it's a reference. Local variables in Wide are subject to the same rules of 
        destruction as those in C++. The lifetime of temporaries, however, was expanded to the whole scope.</p>        
	</div>
</div>

    <ul class="pager"><li class="previous"><a href="HelloWorld.html">Hello World!</a></li><li class="next"><a href="Functions.html">Functions</a></li></ul>
</div>

    <div class="container">
        <div class="row">	
	        <footer>&copy; Puppy 2014 <a href="http://coliru.stacked-crooked.com">Compilation services provided by Coliru.</a></footer>
	    </div>
	</div>
</body>
</html>