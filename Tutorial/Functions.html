<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="../css/codepuppy.css">
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-35434966-2']);
        _gaq.push(['_trackPageview']);
        
        (function () {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
    
<title>Functions</title>

    <script type="text/javascript">
    function escapeRegExp(string) {
        return string.replace(/([.*+?^=!:()|\[\]\/\\])/g, "\\$1");
    }
    function replaceAll(find, replace, str) {
      return str.replace(new RegExp(escapeRegExp(find), 'g'), replace);
    }
    // http://stackoverflow.com/questions/5251520/how-do-i-escape-some-html-in-javascript
    function escapeHTML( string )
    {
        var pre = document.createElement('pre');
        var text = document.createTextNode( string );
        pre.appendChild(text);
        return pre.innerHTML;
    }
    function enableUI(val) {
        document.getElementById("compile").disabled = !val;
    	document.getElementById("WideSource").readOnly = !val;
    	document.getElementById("CPPSource").readOnly = !val;
        document.getElementById("selector").disabled = !val;
    }
    function compile() {
        enableUI(false);
        var http = new XMLHttpRequest();
    	var widesrc = document.getElementById('WideSource').value;
    	var cppsrc = document.getElementById('CPPSource').value;
        http.open("POST", "http://coliru.stacked-crooked.com/share", true);
    	http.onreadystatechange = function() {
            if (http.readyState == 4) {
                if (http.status == 200) {
                    var location = "/Archive2/" + http.responseText.substr(0, 2) + "/" + http.responseText.substr(2, http.responseText.length).trim() + "/main.cpp";
                  	var using = 'using cplusplus := cpp("' + location + '");';
    		        var nestedhttp = new XMLHttpRequest();
                    nestedhttp.open("POST", "http://coliru.stacked-crooked.com/compile", true);
    		        nestedhttp.onreadystatechange = function() {
                        if (nestedhttp.readyState == 4) {
                            if (nestedhttp.status == 200) {
    						    enableUI(true);
                                var response = nestedhttp.responseText;
                                response = replaceAll("'x86_64' is not a recognized processor for this target (ignoring processor)", "", nestedhttp.responseText)
                                response = response.trim()
                                response = escapeHTML(response)
                                lines = response.split('\n').length
                                response = replaceAll("\n", "</br>", response)
                                document.getElementById('result').innerHTML = response;
    		            	}
    		        	}
    	            }
                    nestedhttp.send(JSON.stringify({ "cmd": "/usr/local/bin/Wide/CLI main.cpp && g++ a.o && ./a.out", "src": widesrc + using }));		
    		    }
    		}
    	}
        http.send(JSON.stringify({ "cmd": "", "src": cppsrc }));
    }
    function setcode(widesrc, cppsrc) {
        linecount = Math.max(Math.max(widesrc.split('\n').length, cppsrc.split('\n').length) - 1, 1)
        document.getElementById('WideSource').rows = linecount;
        document.getElementById('CPPSource').rows = linecount;
        document.getElementById('WideSource').value = widesrc;
        document.getElementById('CPPSource').value = cppsrc;
    }
    function init() {
        
setcode('f(x := cplusplus.std.ostream.lvalue) := void {\n    x << "Hello, World!";\n}\nMain() {\n    f(cplusplus.std.cout);\n}', '#include <iostream>\n')

    }
    $(init)
    </script>    
    
<script type="text/javascript">
function generic_example() {
    setcode('f(x) {\n    x.f();\n}\nMain() {\n    f(cplusplus.first);\n    f(cplusplus.second());\n    f(cplusplus.third());\n}', '#include <iostream>\n#include <string>\nnamespace first { void f() { std::cout << "Hello"; } }\nstruct second { static void f() { std::cout << ", "; } }\nstruct third { void f() { std::cout << "World!"; } }')
}
function inference_related_example() {
    setcode('f(x) {\n    if (x) return boost.optional
}
</script>



</head>
<body>
    <nav class="navbar navbar-inverse" style="margin-bottom: 0;" role="navigation">
        <div class="container"style="padding:0px;">
            <p class="navbar-text navbar-right"><a class="navbar-link" href="../index.html">Home</a></p>
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="HelloWorld.html">Hello World!</a></li>
                        <li><a href="LocalVariables.html">Local Variables</a></li>
                        <li><a href="Functions.html">Functions</a></li>
                        <li><a href="OverloadSet.html">Overload Sets</a></li>
                        <li><a href="CPPUsing.html">cpp</a></li>
                        <li><a href="ExportedFunctions.html">Exported Functions</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li class="dropdown-submenu">
                            <a href="#">Implementation</a>
                            <ul class="dropdown-menu">                            
                                        <li class="dropdown-submenu">
                                        <a href="../Reference/Implementation/Lexer.html">Lexer</a>
                                            <ul class="dropdown-menu">       
                                                <li><a href="../Reference/Implementation/Lexer/lexerh.html">Lexer.h</a></li>                                            
                                                <li><a href="../Reference/Implementation/Lexer/tokenh.html">Token.h</a></li>                                            
                                                <li><a href="../Reference/Implementation/Lexer/lexercpp.html">Lexer.cpp</a></li>                                            
                                            </ul>
                                        </li>        
                                        <li><a href="../Reference/Implementation/Parser.html">Parser</a></li>
                                        <li><a href="../Reference/Implementation/Analyzer.html">Analyzer</a></li>
                                        <li><a href="../Reference/Implementation/CAPI.html">CAPI</a></li>
                                        <li><a href="../Reference/Implementation/CLI.html">CLI</a></li>
                                        <li><a href="../Reference/Implementation/Util.html">Util</a></li>
                            </ul>
                        </li>
                        <li class="dropdown-submenu">
                            <a href="#">Syntax</a>
                            <ul class="dropdown-menu">                            
                                        <li><a href="../Reference/Syntax/Lexical.html">Lexical</a></li>
                                        <li><a href="../Reference/Syntax/Grammar.html">Grammar</a></li>
                            </ul>
                        </li>
                        <li class="dropdown-submenu">
                            <a href="#">Semantics</a>
                            <ul class="dropdown-menu">                            
                                        <li><a href="../Reference/Semantics/Type.html">Type</a></li>
                                        <li><a href="../Reference/Semantics/AggregateType.html">AggregateType</a></li>
                                        <li><a href="../Reference/Semantics/MetaType.html">MetaType</a></li>
                                        <li><a href="../Reference/Semantics/PrimitiveType.html">PrimitiveType</a></li>
                                        <li><a href="../Reference/Semantics/OverloadSet.html">OverloadSet</a></li>
                                        <li><a href="../Reference/Semantics/CPPNamespace.html">CPPNamespace</a></li>
                                        <li><a href="../Reference/Semantics/UserDefinedType.html">UserDefinedType</a></li>
                            </ul>
                        </li>
                        <li class="dropdown-submenu">
                            <a href="#">Library</a>
                            <ul class="dropdown-menu">                            
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>            
        </div>
    </nav>
    


<div class="jumbotron">
    <div class="container">
        <h1>Functions</h1>
    </div>
</div>
<div class="container" style="padding:0px;">
    

<div class="form-group">
    <div class="row">
        <div class="col-md-6"><div class="input-group"><span class="input-group-addon">Wide</span><textarea class="form-control" rows="3" id="WideSource" autocomplete=false></textarea></div></div>
        <div class="col-md-6"><div class="input-group"><span class="input-group-addon">C++</span><textarea class="form-control" rows="3" id="CPPSource" autocomplete=false></textarea></div></div>
    </div>
    <div class="row">
	    <div class="col-md-12">
	        <div class="input-group">
                <div class="input-group-btn">
                      <button type="button" class="btn btn-default" id="compile" onclick="compile()">Compile</button>
                      <button type="button" class="btn btn-default dropdown-toggle" id="selector" data-toggle="dropdown">
                        <span class="caret"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                      </button>
                      <ul class="dropdown-menu" role="menu">
                        <li><a href="#" onclick="init()">Functions</a></li>
                        
<li><a href="#" onclick="generic_example()">Duck-typed arguments</a></li>

                      </ul>
                </div>
		        <label class="form-control" id="result" style="height:auto;max-height:120px;min-height:34px;overflow:auto;"></label>		    
	     	</div>
		</div>
	</div>
</div>




<div class="row">
    <div class="col-md-12">
        <p>Functions in Wide are defined by a simple identifier, arguments, then body. The return type may be left off for an inferred return type, as in Main, or it may be made explicit, like f. Return type inference in Wide is 
        substantially more useful than it's C++ counterpart, because Wide does not have the problem of not being able to infer return types of functions in other translation units. In addition, Wide can infer return types in 
        recursive functions in a much wider range of circumstances, and can infer the return type when the types are related instead of identical. Most Wide functions that do not have to adhere to a contract should not require an 
        explicit return type.</p>
        <p>Main can have a return type of void, in which case it implicitly returns 0 to the operating system, or it can return int.</p>
        <p>Wide also has duck-typed functions. You can create a duck-typed argument by simply leaving off the type initializer for that argument. Wide will accept absolutely anything for these arguments. Using <code>.</code> to 
        access members of namespaces as well as objects is not simply a case of syntax re-use- namespace objects are values too and respond to the same member access semantics.</p>   
        <p>Wide currently has no facilities for named parameters, but they are planned.</p>        
	</div>
</div>

    <ul class="pager"><li class="previous"><a href="LocalVariables.html">Local Variables</a></li><li class="next"><a href="OverloadSet.html">Overload Sets</a></li></ul>
</div>

    <div class="container">
        <div class="row">	
	        <footer>&copy; Puppy 2014 <a href="http://coliru.stacked-crooked.com">Compilation services provided by Coliru.</a></footer>
	    </div>
	</div>
</body>
</html>